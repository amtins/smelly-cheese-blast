# Getting started

You will need to:
 - Integrate the player (CDN or NPM)
 - Add a player container in HTML 
 - Configure and initialize the player engine in the javascript
 
## Integrate the player
### CDN Version

First reference the CDN
```
<link rel="stylesheet" href="https://cdn.rts.ch/player/letterbox.css">
<script src="https://cdn.rts.ch/player/letterbox.js"></script>
```

See for example [RTS Kids project](https://devem.rts.ch/kids/vod/les-grands/), or in our [codepen](https://codepen.io/srgssr)

You can also look at https://github.com/SRGSSR/srgletterbox-playground for a slightly more complex integration in React. Note however that in this project we use an alternative S3 bucket to be able to select betweeen stage and production player

For information, we use codepipeline to build test and publish on this CDN.

### Package integration
 

Add the following dependency to package.json: 
```
    "srgletterbox-web": "github:SRGSSR/srgletterbox-web#develop",
```

## Add player container in HTML

Letterbox web player uses the [videojs Fluid mode](https://docs.videojs.com/tutorial-layout.html) layout by default.
```
<div id="player-letterbox-web"></div>
```
:warning: If your container is not constrained in width, flickering could occur with very specific screen / content size combination. This happens especially on Chrome and is caused by the scroll bar appearing, reducing available width which in turns reduces the height which will then make the scroll bar disappear and start a new cycle. Here is a simple fix: 
```
html {
    width:100vw;
    overflow-x:hidden;
}
```
[source](https://aykevl.nl/2014/09/fix-jumping-scrollbar)
## Configure and initialize the player

Here is a simple integration (used in RTS Kids) with fullscreen, play toggle and volume:
```javascript
<script>
    // Create an option object with your need. See https://docs.videojs.com/tutorial-options.html
    const playerOptions = {
        children: {
            mediaLoader: true,
            overlayComponent: true,
            loadingSpinnerComponent: true,
            controlBar: {
                children: {
                    progressControl: true,
                    containerControlsComponent: {
                        children: {
                            containerControlsLeftComponent: {
                                children: {
                                    playToggle: true,
                                    volumePanel: true,
                                },
                            },
                            containerTimeDisplayComponent: true,
                            containerControlsRightComponent: {
                                children: {
                                    fullscreenToggle: true,
                                },
                            },
                        },
                    },
                },
            },
            errorDisplayComponent: true,
            resizeManager: true,
        }
    };

    //Player initialization 
    window.player = new SRGLetterbox({
        containerElement: 'player-letterbox-web',
        debug: true,
        dataProviderHost : "il.srgssr.ch", // Use production IL
        playerOptions,
    });

    // Play a static URN
    player.prepareToPlayURN("urn:rts:video:10710701");
</script>
```
 
# More information
Do not hesitate to contact the Letterbox team: spa-technicalplayer@rts.ch

Also, this player is based on video JS and reading the [video JS integration guide](https://docs.videojs.com/docs/guides/setup.html) can be useful. 
